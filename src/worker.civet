import { alphabeta } from "./ai2.civet"

console.log "worker started"

onmessage = (e) =>
  console.log("worker received", e.data)
  {pieces, turn, adversary} := e.data
  depth := switch adversary
    when 'level1': 2
    when 'level2': 4
    when 'level3': 9
    else 2
  output := alphabeta(depth, turn, -Infinity, +Infinity, pieces)[1]          
  postMessage(output)